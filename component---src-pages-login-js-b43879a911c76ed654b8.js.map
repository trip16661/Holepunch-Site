{"version":3,"sources":["webpack:///./src/components/Login/LoginForm.js","webpack:///./src/pages/login.js","webpack:///./src/components/seo.js","webpack:///./src/components/Spinner/PageSpinner.js","webpack:///./src/components/Spinner/spinner.module.scss","webpack:///./src/components/TextFieldGroup/index.js","webpack:///./src/utils/validation.js","webpack:///./src/components/Login/login.module.scss"],"names":["LoginForm","state","email","password","errors","submited","isValid","_validateInput","validateInput","_this","setState","handleUpdate","event","_this$setState","target","name","value","handleSubmit","preventDefault","props","login","setTimeout","render","_this2","this","_this$state","loginError","react_default","a","createElement","Form","onSubmit","className","TextFieldGroup","label","type","field","onChange","id","placeholder","error","attributes","detail","Button","gatsby_browser_entry","to","Component","connect","getError","isLoggedIn","getIsLoggedIn","accountIsLoading","dispatch","performEmailLogin","request","Login","isLoading","Fragment","PageSpinner","seo","title","Login_LoginForm","React","propTypes","PropTypes","bool","defaultProps","SEO","_ref","description","lang","meta","keywords","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_4__","query","detailsQuery","data","metaDescription","site","siteMetadata","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","content","property","author","concat","length","join","_public_static_d_1025518380_json__WEBPACK_IMPORTED_MODULE_0__","string","array","arrayOf","isRequired","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","children","module","exports","wrapper","cssloadLoader","cssloadAnimation","white","page__wrapper","logo","rect","rect__one","door","rect__two","rect__three","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_4__","reactstrap__WEBPACK_IMPORTED_MODULE_5__","for","hidden","invalid","tooltip","prototype","object","func","d","__webpack_exports__","validator__WEBPACK_IMPORTED_MODULE_0__","lodash__WEBPACK_IMPORTED_MODULE_1__","isEmpty","isEmail","domain_specific_validation","form","form__input","form__btn","form__alert","form__signup"],"mappings":"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","file":"component---src-pages-login-js-b43879a911c76ed654b8.js","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'gatsby'\nimport { Form } from 'reactstrap'\n\nimport './login.module.scss'\n\nimport Button from '../Button'\nimport TextFieldGroup from '../TextFieldGroup'\n\nimport { validateInput } from '../../utils/validation'\nimport { performEmailLogin } from '../../redux/ducks/account/actions'\nimport {\n  getIsLoggedIn,\n  accountIsLoading,\n} from '../../redux/ducks/account/selectors'\nimport { getError } from '../../redux/ducks/account/selectors'\n\nclass LoginForm extends Component {\n  state = {\n    email: '',\n    password: '',\n    errors: {},\n    submited: false,\n  }\n\n  isValid = () => {\n    const { errors, isValid } = validateInput(this.state)\n    this.setState({\n      errors,\n    })\n    return isValid\n  }\n\n  handleUpdate = event => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault()\n\n    if (this.isValid()) {\n      this.props.login(this.state.email, this.state.password)\n    }\n    this.setState({\n      submited: true,\n    })\n    setTimeout(() => {\n      this.setState({\n        submited: false,\n      })\n    }, 4400)\n  }\n\n  render() {\n    const { errors, submited } = this.state\n    const { loginError } = this.props\n\n    return (\n      <Form\n        onSubmit={event => {\n          this.handleSubmit(event)\n        }}\n        className=\"mx-auto\"\n        styleName=\"form\"\n      >\n        <TextFieldGroup\n          label=\"Email\"\n          type=\"email\"\n          field=\"email\"\n          onChange={this.handleUpdate}\n          id=\"loginEmail\"\n          placeholder=\"Enter Email\"\n          styleName=\"form__input\"\n          error={errors.email}\n        />\n        <TextFieldGroup\n          label=\"Password\"\n          type=\"password\"\n          field=\"password\"\n          onChange={this.handleUpdate}\n          id=\"loginPassword\"\n          placeholder=\"Password\"\n          styleName=\"form__input\"\n          error={errors.password}\n        />\n        {loginError && submited && (\n          <span styleName=\"form__alert\">{loginError.attributes.detail}</span>\n        )}\n        <Button styleName=\"form__btn\">Login</Button>\n        <span styleName=\"form__signup\">\n          Don't have an account? <Link to=\"/signup\">Sign up</Link>\n        </span>\n      </Form>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loginError: getError(state),\n    isLoggedIn: getIsLoggedIn(state),\n    accountIsLoading: accountIsLoading(state),\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: (email, password) => {\n      dispatch(performEmailLogin.request(email, password))\n    },\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginForm)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport SEO from '../components/seo'\n\nimport PageSpinner from '../components/Spinner/PageSpinner'\nimport LoginForm from '../components/Login/LoginForm'\n\nclass Login extends React.Component {\n  static propTypes = {\n    isLoading: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    isLoading: false,\n  }\n\n  render() {\n    const { isLoading } = this.props\n    \n    return (\n      <>\n        <PageSpinner isLoading={isLoading}>\n          <SEO title=\"Holepunch Login\" />\n          <div className=\"container page__header\">\n            <h2>Login</h2>\n          </div>\n          <div className=\"container mb-5\">\n            <LoginForm />\n          </div>\n        </PageSpinner>\n      </>\n    )\n  }\n}\n\nexport default Login\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  return (\n    <StaticQuery\n      query={detailsQuery}\n      render={data => {\n        const metaDescription =\n          description || data.site.siteMetadata.description\n        return (\n          <Helmet\n            htmlAttributes={{\n              lang,\n            }}\n            title={title}\n            titleTemplate={`%s | ${data.site.siteMetadata.title}`}\n            meta={[\n              {\n                name: 'description',\n                content: metaDescription,\n              },\n              {\n                property: 'og:title',\n                content: title,\n              },\n              {\n                property: 'og:description',\n                content: metaDescription,\n              },\n              {\n                property: 'og:type',\n                content: 'website',\n              },\n              {\n                name: 'twitter:card',\n                content: 'summary',\n              },\n              {\n                name: 'twitter:creator',\n                content: data.site.siteMetadata.author,\n              },\n              {\n                name: 'twitter:title',\n                content: title,\n              },\n              {\n                name: 'twitter:description',\n                content: metaDescription,\n              },\n            ]\n              .concat(\n                keywords.length > 0\n                  ? {\n                      name: 'keywords',\n                      content: keywords.join(', '),\n                    }\n                  : []\n              )\n              .concat(meta)}\n          />\n        )\n      }}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: 'en',\n  meta: [],\n  keywords: [],\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.array,\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n\nconst detailsQuery = graphql`\n  query DefaultSEOQuery {\n    site {\n      siteMetadata {\n        title\n        description\n        author\n      }\n    }\n  }\n`\n","import React from 'react'\n\nimport './spinner.module.scss'\n\nconst PageSpinner = ({ isLoading, children }) => {\n  return isLoading ? (\n    <div styleName=\"page__wrapper\" className=\"container\">\n      <div>\n        <div styleName=\"rect rect__one\" />\n        <div styleName=\"rect rect__two\" />\n        <div styleName=\"rect rect__three\" />\n      </div>\n    </div>\n  ) : (\n    children\n  )\n}\n\nexport default PageSpinner\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"spinner-module--wrapper--EIZIR\",\"cssloadLoader\":\"spinner-module--cssload-loader---RHhY\",\"cssloadAnimation\":\"spinner-module--cssload-animation--EwuN9\",\"white\":\"spinner-module--white--2DH47\",\"page__wrapper\":\"spinner-module--page__wrapper--8UZUN\",\"logo\":\"spinner-module--logo--3r1d1\",\"rect\":\"spinner-module--rect--200Ev\",\"rect__one\":\"spinner-module--rect__one--CfzAk\",\"door\":\"spinner-module--door--Jr-ZJ\",\"rect__two\":\"spinner-module--rect__two--tVPWl\",\"rect__three\":\"spinner-module--rect__three--1nQn1\"};","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { FormGroup, Label, Input, FormFeedback } from 'reactstrap'\n\nfunction TextFieldGroup({\n  field,\n  type,\n  label,\n  placeholder,\n  id,\n  error,\n  onChange,\n  className,\n}) {\n  return (\n    <FormGroup>\n      <Label for={id} hidden>\n        {label}\n      </Label>\n      <Input\n        type={type}\n        name={field}\n        onChange={onChange}\n        id={id}\n        placeholder={placeholder}\n        invalid={!!error}\n        className={className}\n      />\n      {error && <FormFeedback tooltip>{error}</FormFeedback>}\n    </FormGroup>\n  )\n}\n\nTextFieldGroup.prototype = {\n  field: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  id: PropTypes.string,\n  error: PropTypes.object,\n  onChange: PropTypes.func.isRequired,\n}\n\nexport default TextFieldGroup\n","import { isEmail } from 'validator'\nimport { isEmpty } from 'lodash'\n\nexport const validateInput = data => {\n  let errors = {}\n\n  if (isEmpty(data.email)) {\n    errors.email = 'This field is required'\n  }\n  if (!isEmail(data.email, { domain_specific_validation: true })) {\n    errors.email = 'Email is invalid'\n  }\n\n  if (isEmpty(data.password)) {\n    errors.password = 'This field is required'\n  }\n\n  return {\n    errors,\n    isValid: isEmpty(errors),\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"login-module--form--35RHS\",\"form__input\":\"login-module--form__input--2k0Rk\",\"form__btn\":\"login-module--form__btn--22onj\",\"form__alert\":\"login-module--form__alert--2eyPm\",\"form__signup\":\"login-module--form__signup--38VcN\"};"],"sourceRoot":""}