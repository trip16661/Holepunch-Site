{"version":3,"sources":["webpack:///./src/components/Signup/SignupForm.js","webpack:///./src/pages/signup.js","webpack:///./src/components/seo.js","webpack:///./src/components/Spinner/PageSpinner.js","webpack:///./src/components/Spinner/spinner.module.scss","webpack:///./src/components/TextFieldGroup/index.js","webpack:///./src/utils/validation.js","webpack:///./src/components/Signup/signup.module.scss"],"names":["SignupForm","state","email","password","errors","submited","isValid","_validateInput","validateInput","_this","setState","handleUpdate","event","_this$setState","target","name","value","handleSubmit","preventDefault","props","signup","setTimeout","render","_this2","this","_this$state","_this$props","signupError","isLoading","react_default","a","createElement","Form","onSubmit","className","TextFieldGroup","label","type","field","onChange","id","placeholder","error","attributes","detail","Button","disabled","gatsby_browser_entry","to","Component","connect","getError","accountIsLoading","isLoggedIn","getIsLoggedIn","dispatch","performRegister","request","Signup","Fragment","PageSpinner","seo","title","Signup_SignupForm","propTypes","PropTypes","bool","defaultProps","SEO","_ref","description","lang","meta","keywords","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_4__","query","detailsQuery","data","metaDescription","site","siteMetadata","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","content","property","author","concat","length","join","_public_static_d_1025518380_json__WEBPACK_IMPORTED_MODULE_0__","string","array","arrayOf","isRequired","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","children","module","exports","wrapper","cssloadLoader","cssloadAnimation","white","page__wrapper","logo","rect","rect__one","door","rect__two","rect__three","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_4__","reactstrap__WEBPACK_IMPORTED_MODULE_5__","for","hidden","invalid","tooltip","prototype","object","func","d","__webpack_exports__","validator__WEBPACK_IMPORTED_MODULE_0__","lodash__WEBPACK_IMPORTED_MODULE_1__","isEmpty","isEmail","domain_specific_validation","form","form__input","form__btn","form__login","form__alert"],"mappings":"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","file":"component---src-pages-signup-js-c150fdc3bdd9329c0d0b.js","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'gatsby'\nimport { Form } from 'reactstrap'\n\nimport './signup.module.scss'\n\nimport Button from '../Button'\nimport TextFieldGroup from '../TextFieldGroup'\n\nimport { validateInput } from '../../utils/validation'\nimport { performRegister } from '../../redux/ducks/account/actions'\nimport {\n  getIsLoggedIn,\n  getError,\n  accountIsLoading,\n} from '../../redux/ducks/account/selectors'\n\nclass SignupForm extends Component {\n  state = {\n    email: '',\n    password: '',\n    errors: {},\n    submited: false\n  }\n\n  isValid = () => {\n    const { errors, isValid } = validateInput(this.state)\n    this.setState({\n      errors,\n    })\n    return isValid\n  }\n\n  handleUpdate = event => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault()\n\n    if (this.isValid()) {\n      this.props.signup(this.state.email, this.state.password)\n      this.setState({\n        submited: true,\n      })\n      setTimeout(() => {\n        this.setState({\n          submited: false,\n        })\n      }, 4400);\n    }\n  }\n\n  render() {\n    const { errors, submited } = this.state\n    const { signupError, isLoading } = this.props\n\n    return (\n      <Form\n        onSubmit={event => {\n          this.handleSubmit(event)\n        }}\n        className=\"mx-auto\"\n        styleName=\"form\"\n      >\n        <TextFieldGroup\n          label=\"Email\"\n          type=\"email\"\n          field=\"email\"\n          onChange={this.handleUpdate}\n          id=\"signupEmail\"\n          placeholder=\"Enter Email\"\n          styleName=\"form__input\"\n          error={errors.email}\n        />\n        <TextFieldGroup\n          label=\"Password\"\n          type=\"password\"\n          field=\"password\"\n          onChange={this.handleUpdate}\n          id=\"signupPassword\"\n          placeholder=\"Password\"\n          styleName=\"form__input\"\n          error={errors.password}\n        />\n        {(signupError && submited) && <span styleName=\"form__alert\">{signupError.attributes.detail}</span>}\n        <Button styleName=\"form__btn\" disabled={isLoading}>Register</Button>\n        <span styleName=\"form__login\">\n          Already have an account? <Link to=\"/login\">Login</Link>\n        </span>\n      </Form>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    signupError: getError(state),\n    isLoading: accountIsLoading(state),\n    isLoggedIn: getIsLoggedIn(state),\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signup: (email, password) => {\n      dispatch(performRegister.request(email, password))\n    },\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SignupForm)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport SEO from '../components/seo'\n\nimport PageSpinner from '../components/Spinner/PageSpinner'\nimport SignupForm from '../components/Signup/SignupForm'\n\nclass Signup extends Component {\n  static propTypes = {\n    isLoading: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    isLoading: false,\n  }\n\n  render() {\n    const { isLoading } = this.props\n\n    return (\n      <>\n        <PageSpinner isLoading={isLoading}>\n          <SEO title=\"Holepunch Signup\" />\n          <div className=\"container page__header\">\n            <h2>Sign up</h2>\n          </div>\n          <div className=\"container mb-5\">\n            <SignupForm />\n          </div>\n        </PageSpinner>\n      </>\n    )\n  }\n}\n\nexport default Signup\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  return (\n    <StaticQuery\n      query={detailsQuery}\n      render={data => {\n        const metaDescription =\n          description || data.site.siteMetadata.description\n        return (\n          <Helmet\n            htmlAttributes={{\n              lang,\n            }}\n            title={title}\n            titleTemplate={`%s | ${data.site.siteMetadata.title}`}\n            meta={[\n              {\n                name: 'description',\n                content: metaDescription,\n              },\n              {\n                property: 'og:title',\n                content: title,\n              },\n              {\n                property: 'og:description',\n                content: metaDescription,\n              },\n              {\n                property: 'og:type',\n                content: 'website',\n              },\n              {\n                name: 'twitter:card',\n                content: 'summary',\n              },\n              {\n                name: 'twitter:creator',\n                content: data.site.siteMetadata.author,\n              },\n              {\n                name: 'twitter:title',\n                content: title,\n              },\n              {\n                name: 'twitter:description',\n                content: metaDescription,\n              },\n            ]\n              .concat(\n                keywords.length > 0\n                  ? {\n                      name: 'keywords',\n                      content: keywords.join(', '),\n                    }\n                  : []\n              )\n              .concat(meta)}\n          />\n        )\n      }}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: 'en',\n  meta: [],\n  keywords: [],\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.array,\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n\nconst detailsQuery = graphql`\n  query DefaultSEOQuery {\n    site {\n      siteMetadata {\n        title\n        description\n        author\n      }\n    }\n  }\n`\n","import React from 'react'\n\nimport './spinner.module.scss'\n\nconst PageSpinner = ({ isLoading, children }) => {\n  return isLoading ? (\n    <div styleName=\"page__wrapper\" className=\"container\">\n      <div>\n        <div styleName=\"rect rect__one\" />\n        <div styleName=\"rect rect__two\" />\n        <div styleName=\"rect rect__three\" />\n      </div>\n    </div>\n  ) : (\n    children\n  )\n}\n\nexport default PageSpinner\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"spinner-module--wrapper--EIZIR\",\"cssloadLoader\":\"spinner-module--cssload-loader---RHhY\",\"cssloadAnimation\":\"spinner-module--cssload-animation--EwuN9\",\"white\":\"spinner-module--white--2DH47\",\"page__wrapper\":\"spinner-module--page__wrapper--8UZUN\",\"logo\":\"spinner-module--logo--3r1d1\",\"rect\":\"spinner-module--rect--200Ev\",\"rect__one\":\"spinner-module--rect__one--CfzAk\",\"door\":\"spinner-module--door--Jr-ZJ\",\"rect__two\":\"spinner-module--rect__two--tVPWl\",\"rect__three\":\"spinner-module--rect__three--1nQn1\"};","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { FormGroup, Label, Input, FormFeedback } from 'reactstrap'\n\nfunction TextFieldGroup({\n  field,\n  type,\n  label,\n  placeholder,\n  id,\n  error,\n  onChange,\n  className,\n}) {\n  return (\n    <FormGroup>\n      <Label for={id} hidden>\n        {label}\n      </Label>\n      <Input\n        type={type}\n        name={field}\n        onChange={onChange}\n        id={id}\n        placeholder={placeholder}\n        invalid={!!error}\n        className={className}\n      />\n      {error && <FormFeedback tooltip>{error}</FormFeedback>}\n    </FormGroup>\n  )\n}\n\nTextFieldGroup.prototype = {\n  field: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  id: PropTypes.string,\n  error: PropTypes.object,\n  onChange: PropTypes.func.isRequired,\n}\n\nexport default TextFieldGroup\n","import { isEmail } from 'validator'\nimport { isEmpty } from 'lodash'\n\nexport const validateInput = data => {\n  let errors = {}\n\n  if (isEmpty(data.email)) {\n    errors.email = 'This field is required'\n  }\n  if (!isEmail(data.email, { domain_specific_validation: true })) {\n    errors.email = 'Email is invalid'\n  }\n\n  if (isEmpty(data.password)) {\n    errors.password = 'This field is required'\n  }\n\n  return {\n    errors,\n    isValid: isEmpty(errors),\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"signup-module--form--1r6UK\",\"form__input\":\"signup-module--form__input---6-83\",\"form__btn\":\"signup-module--form__btn--1xHsn\",\"form__login\":\"signup-module--form__login--rn2hT\",\"form__alert\":\"signup-module--form__alert--2rnRk\"};"],"sourceRoot":""}